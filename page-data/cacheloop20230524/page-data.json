{
    "componentChunkName": "component---src-templates-post-template-jsx",
    "path": "/cacheloop20230524/",
    "result": {"data":{"markdownRemark":{"html":"<p>첫 호출을 통해 @acheable 로 JVM 또는 Redis 에 캐싱을 하고 나면 해당 데이터는 TTL이 걸려있지 않으면 계속 유지된 상태로 남아있게 된다.\nTTL 을 통해서 시간이 지나 데이터가 삭제되고 또 다른 호출을 통해 같은 키의 다른 데이터를 캐싱하면 데이터가 업데이트가 된다.</p>\n<p>또 다른 방법으로는 주기적으로 데이터를 업데이트를 시킬 수 있다. 예를 들어, 데이터파이프라인을 통해 주기적으로 데이터가 들어올 때, 정해진 key에 업데이트를 해주거나 또는 @Scheduled 를 통해서 어플리케이션단에서 데이터를 업데이트 시켜줄 수 있다.</p>\n<p>데이터파이프라인 같은 경우, 레디스와 연동하여 상호 작용으로 데이터를 주기적으로 업데이트해줄 수 있고 이번 블로그에 글을 쓰는 부분은 어플리케이션단에서 Local 데이터 업데이트에 대한 부분을 글로 써 내려갈 예정이다.</p>\n<h2 id=\"스프링-프레임워크에서-제공하는-캐싱관련-어노테이션에-대해-알아보자\" style=\"position:relative;\"><a href=\"#%EC%8A%A4%ED%94%84%EB%A7%81-%ED%94%84%EB%A0%88%EC%9E%84%EC%9B%8C%ED%81%AC%EC%97%90%EC%84%9C-%EC%A0%9C%EA%B3%B5%ED%95%98%EB%8A%94-%EC%BA%90%EC%8B%B1%EA%B4%80%EB%A0%A8-%EC%96%B4%EB%85%B8%ED%85%8C%EC%9D%B4%EC%85%98%EC%97%90-%EB%8C%80%ED%95%B4-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90\" aria-label=\"스프링 프레임워크에서 제공하는 캐싱관련 어노테이션에 대해 알아보자 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>스프링 프레임워크에서 제공하는 캐싱관련 어노테이션에 대해 알아보자.</h2>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 660px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 92.12121212121212%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAABrElEQVQ4y4WU666DIBCEff8HrCZN/9jau/faq5bm22QoanoOyYQFlt0ZWIher5c7Ho9uvV5bX9e1q6rKUJalYRgGQ9/3s162EBHg8Xi4X63rOne9Xt1f7f1+fwOKyeFwcPv93mwSANiTsCgKs8/ns/lkWWb+AFWn08k9n89xQBYUkM0Ah6ZpTD7SWFNQehKBPM+/AWGAJDYQZCr/fr+bbEljjC8BpIS5kWQA/e12ayxwAGxiTQyQhpLNZmMsGbOmI/EBdbMstG3r2eLAmHXZOiLt40jAKGAoGSZhu91uXjI+jEOpgsonEjPkIgUJoWTYMEcA7NVq5ZbLpUuSxC0WC7ORPgoo2tiSDLiEy+XiJaOEs1NF7HY7s1UFPiCSdGsw+yUZHxISmDmSQUQkLKCeFxl5ftgEAVPJKmaOBqlxHPtjGhU2mZSR7KopPT1YIJ8kYgcr/JmbXQoO4a1NJbORRhXgKwVKoCrxAXlGyE3T1CQRVOUhyczpqeliBJKM6lA/SvizIJHGGMl6hjqeKTxDBioLlQvZ1Ov3Cf+88A+c/Ycw4YAlZwoYhv/df/gAKThweU1fDCAAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"      \" title=\"      \" src=\"/static/c0ae143fc5a9c6ae203e28936db48950/7c811/%EC%BA%90%EC%8B%9C%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8.png\" srcset=\"/static/c0ae143fc5a9c6ae203e28936db48950/103f2/%EC%BA%90%EC%8B%9C%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8.png 165w,\n/static/c0ae143fc5a9c6ae203e28936db48950/748ba/%EC%BA%90%EC%8B%9C%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8.png 330w,\n/static/c0ae143fc5a9c6ae203e28936db48950/7c811/%EC%BA%90%EC%8B%9C%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8.png 660w,\n/static/c0ae143fc5a9c6ae203e28936db48950/2d7cc/%EC%BA%90%EC%8B%9C%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8.png 985w\" sizes=\"(max-width: 660px) 100vw, 660px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<p>글을 읽다보면 그 당시에는 이해했다고 생각할 수 있지만 결국에 남는 건 ‘이미지’에 대한 이해와 그에 따른 ‘키워드’ 기억이라고 생각한다.</p>\n<p>위의 그림을 보면 스프링에서 제공하는 어노테이션은 총 5가지다. 이 글에서 필요한 어노테이션은 @cacheable, @cachePut 이다. 인베스팅뷰, 줌투자 서비스를 운영하면서 데이터를 주기적으로 삭제를 하고 빈 상태로 유지하는 경우의 수는 없었으며 항상 데이터는 있되 주기적으로 업데이트가 필요로 해서 해당 2개의 어노테이션만 쓰고 있다.</p>\n<p>그림에서도 볼 수 있듯이 좀 더 설명을 해보자면,</p>\n<p><strong><code class=\"language-text\">@Cacheable</code></strong> 어노테이션은 메서드의 반환값을 캐시에 저장하는 데 사용되고 메서드가 호출될 때, Spring은 먼저 해당 메서드의 매개변수를 기반으로 캐시에서 결과를 검색한다. 캐시된 값이 있으면, 메서드를 실행하지 않고 캐시된 값을 반환한다. 즉, 캐시된 값이 없을 경우에만 메서드가 실행되고, 반환값이 캐시에 저장된다</p>\n<p><strong><code class=\"language-text\">@CachePut</code></strong> 어노테이션은 메서드가 반환하는 값을 캐시에 강제로 추가하거나 업데이트하는 데 사용됩니다. 메서드가 호출될 때마다 실행되며, 반환값을 캐시에 저장한다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 660px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 45.45454545454545%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABKklEQVQoz3VSy27CMBDk/3+qUoV66qE3UNVULSgpojEOfsePTLULRkCDldE6jjMzO/ailAJCzhl1XjFNE69baxlze+6xeERI7+M4cj0ej1BKIZ9F+HvJswL/CKnS6LoO6/Wa14g4xoDgDc/ZfZkAeso0T3iNGCOcc+xqv99DaQslO7SfrxBCsqAbLVq5hY+eScnxDWFtrxKmlDAMEk3zgb7/hXMWgzywSEkFO/mD5fszDlaw0/rvooYvpYTWGmFMnJkxhvbBhYSYMouEEPhwUkwwTmMrNggxXHK9cSjEAVoNMP0KRiv4ELBqWjy9vGHXK25Ta8OkRECg8TBD7z1yTshRsxuC1gqb7y9ulzKlDqjWw2OUPE94sX3OgwROWZ6uDzmjSuvXLd5fmz9kAb8Qo6afWAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"          \" title=\"          \" src=\"/static/99bd5f64c35cf823a62d9edb0d75da3d/7c811/%EC%BA%90%EC%8B%9C%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98.png\" srcset=\"/static/99bd5f64c35cf823a62d9edb0d75da3d/103f2/%EC%BA%90%EC%8B%9C%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98.png 165w,\n/static/99bd5f64c35cf823a62d9edb0d75da3d/748ba/%EC%BA%90%EC%8B%9C%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98.png 330w,\n/static/99bd5f64c35cf823a62d9edb0d75da3d/7c811/%EC%BA%90%EC%8B%9C%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98.png 660w,\n/static/99bd5f64c35cf823a62d9edb0d75da3d/d28e0/%EC%BA%90%EC%8B%9C%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98.png 990w,\n/static/99bd5f64c35cf823a62d9edb0d75da3d/99dcf/%EC%BA%90%EC%8B%9C%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98.png 1118w\" sizes=\"(max-width: 660px) 100vw, 660px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<h2 id=\"코드로-알아보자\" style=\"position:relative;\"><a href=\"#%EC%BD%94%EB%93%9C%EB%A1%9C-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90\" aria-label=\"코드로 알아보자 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>코드로 알아보자.</h2>","timeToRead":2,"excerpt":"첫 호출을 통해 @acheable 로 JVM 또는 Redis 에 캐싱을 하고 나면 해당 데이터는 TTL이 걸려있지 않으면 계속 유지된 상태로 남아있게 된다.\nTTL…","frontmatter":{"title":"[2] 서비스 캐싱 - 데이터 업데이트","date":"2023-05-24T22:31:00Z","categories":["spring"],"tags":["spring","java","cache"],"description":"this is a description","keywords":"pig","cover":{"childImageSharp":{"gatsbyImageData":{"layout":"fixed","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/99bd5f64c35cf823a62d9edb0d75da3d/fda96/%EC%BA%90%EC%8B%9C%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98.png","srcSet":"/static/99bd5f64c35cf823a62d9edb0d75da3d/fda96/%EC%BA%90%EC%8B%9C%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98.png 660w","sizes":"660px"},"sources":[{"srcSet":"/static/99bd5f64c35cf823a62d9edb0d75da3d/24cd4/%EC%BA%90%EC%8B%9C%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98.webp 660w","type":"image/webp","sizes":"660px"}]},"width":660,"height":301}}}},"fields":{"slug":"/cacheloop20230524/","date":"2023-05-24T22:31:00.000Z"}}},"pageContext":{"slug":"/cacheloop20230524/","nexttitle":"[1] 서비스 캐싱 - Local, Global","nextslug":"/cachelocalglobal20230523/","prevtitle":"크롤 버전 이슈","prevslug":"/crawl20231020/","tagList":["infra","cache","docker","crawl","spring","java","theory","git","mysql","db"],"categoryList":["redis","docker","java","spring","theory","db"],"latestPostEdges":[{"node":{"fields":{"slug":"/redisinfra20231124/"},"frontmatter":{"template":"post","title":"redis 구성 - 단일, 레플리케이션, 센티넬","tags":["infra","cache"],"categories":["redis"],"date":"2023-11-24T14:31:00Z"}}},{"node":{"fields":{"slug":"/docker20231113/"},"frontmatter":{"template":"post","title":"도커 overlay 용량을 정리해보자.","tags":["docker"],"categories":["docker"],"date":"2023-11-13T22:31:00Z"}}},{"node":{"fields":{"slug":"/crawl20231020/"},"frontmatter":{"template":"post","title":"크롤 버전 이슈","tags":["crawl"],"categories":["java"],"date":"2023-10-20T22:31:00Z"}}},{"node":{"fields":{"slug":"/cacheloop20230524/"},"frontmatter":{"template":"post","title":"[2] 서비스 캐싱 - 데이터 업데이트","tags":["spring","java","cache"],"categories":["spring"],"date":"2023-05-24T22:31:00Z"}}},{"node":{"fields":{"slug":"/cachelocalglobal20230523/"},"frontmatter":{"template":"post","title":"[1] 서비스 캐싱 - Local, Global","tags":["spring","java","cache"],"categories":["spring"],"date":"2023-05-23T22:31:00Z"}}},{"node":{"fields":{"slug":"/solid20220501/"},"frontmatter":{"template":"post","title":"객체 지향 설계 5원칙 - SOLID","tags":["theory"],"categories":["theory"],"date":"2022-05-01T22:31:00Z"}}},{"node":{"fields":{"slug":"/jpa120220421/"},"frontmatter":{"template":"post","title":"JPA 영속성 관리","tags":["java","spring"],"categories":["spring"],"date":"2022-04-21T22:31:00Z"}}},{"node":{"fields":{"slug":"/collector20220303/"},"frontmatter":{"template":"post","title":"Collect, Collector, Collectors 정리","tags":["java"],"categories":["java"],"date":"2022-03-03T22:31:00Z"}}}]}},
    "staticQueryHashes": []}