{
    "componentChunkName": "component---src-templates-post-template-jsx",
    "path": "/docker20231113/",
    "result": {"data":{"markdownRemark":{"html":"<h2 id=\"문제의-시작\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%A0%9C%EC%9D%98-%EC%8B%9C%EC%9E%91\" aria-label=\"문제의 시작 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>문제의 시작</h2>\n<p>차세대 코스콤 시스템을 구축하면서 IDC 에 docker image 를 이용해서 어플리케이션을 띄웠다. 배포를 하고 운영을 하면서 서버에 용량이 차기 시작했고 Zabbix에 알림이 오기 시작했다. 용량을 정리해보자.</p>\n<h2 id=\"문제-해결\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%A0%9C-%ED%95%B4%EA%B2%B0\" aria-label=\"문제 해결 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>문제 해결</h2>\n<p>우선 인프라팀에서 Zabbix 에 알림이 오면 각 서버 담당자에게 슬랙으로 연락이 온다. 나 같은 경우는 차세대 전체적으로 관리를 하고 있으므로 총 Application 7대와 운영 브로커, 스테이징 브로커에 대한 슬랙을 주신다.</p>\n<p>df -h 명령어를 이용해서 우선 전체적으로 얼마정도 데이터가 쌓였는지 알아본다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 576px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 59.3939393939394%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAC5UlEQVQoz0WSWW/iBhhF/Vf60Ey2mYR0SCZJJ2EPYEJI8IqxzWaDMauBANkm02nVjKqO1I6qSlWlqmpf2j95KpyHPnyvR+e79wrvgzl3nSHLus/S7nBje5iH56i7GcwDkeF5le6ZRv1NiaBgM8rbdGMqg7TBIGXQOZIZJEx6xzr+oY7wGMy5cfp8GExZ1jr4BQNjX0TdTaPvnbFQmyz0NvZ+kUC0mJcdBpkqd6rHdanFIF7hu/qEhdjivT5A+Hj3wNLp8dgdMZJqKK+zqJFMeOXtOF5SYqm5VCMil1/EcI6vqGzm8d4q3Fd89Bc5eic6QcIiSFQRnu7f8dAd074wUKNZ9P086t4Zym4KeSuOlygzLdepRYv0M0ZoaGzl6cV17rQuxkaO3tcK47jJPNdA+PThW975AUOtiXFUQIvmQjvlVRJ5I0YnfsWs3MB+XcCLyYzFGsaWiH+qMrtoUlnLMopVng2TVYSfnr7n3hsz0lpoByLa6uXddAiU1k/pJiXmiou5J1LfLzLImFS3RfpxjXnJwXqRI4hXGceqDE8qCJ9/eOK2PWRiuDRSMtWjc5QV8OUzcGV4LbfQX2aRvkziHsmh4TBlsCg5mGs5JslVyxqzjI3w+cePLNwhU6vDo/dcjLzzv6FzUgqB6kYaP6EyKTaoRYr0YjrTQoPOgcRNycU/VGmsFxB+/fkT180egdnmm/6Eqe6EhvKrZGgZlCym5QZmJI8XV8MMm9FLJqLNIFmlvllgmrboH2sMjnWEP37/hVtvTGB1sOJlzLcXqHsZlJ000lYaNyYxk1qYkQJW5Jxe0sDevWAq1phkbay1PNO0jf9G4fbCQfj7r9+Yu0PmrT5OXkdZtfzVGcpOhvJmmvpRibnqom/n0TdyzxmuF/BX20tb2Osiy3yTblSif6gg/PPvn/QNl7HVYVbz0A8LqOF0ckjbGZxTmYXaDoG9lMGs5NDcu2SUMkOgdyBzf+XiR8s8lNv8B1Dk6LEobj5fAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"     2023 11 20    9 18 51\" title=\"     2023 11 20    9 18 51\" src=\"/static/378f2ba5ca50b09b4d821fb5b0d5ca5f/694da/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202023-11-20%20%EC%98%A4%ED%9B%84%209.18.51.png\" srcset=\"/static/378f2ba5ca50b09b4d821fb5b0d5ca5f/103f2/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202023-11-20%20%EC%98%A4%ED%9B%84%209.18.51.png 165w,\n/static/378f2ba5ca50b09b4d821fb5b0d5ca5f/748ba/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202023-11-20%20%EC%98%A4%ED%9B%84%209.18.51.png 330w,\n/static/378f2ba5ca50b09b4d821fb5b0d5ca5f/694da/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202023-11-20%20%EC%98%A4%ED%9B%84%209.18.51.png 576w\" sizes=\"(max-width: 576px) 100vw, 576px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<p>디스크에 용량이 가득차고 overlay에 가득차있다. 나는 항상 용량에 대한 이슈가 나에게 오면 ‘<strong>docker system prune -a -f’</strong> 명령어를 쓰고 Docker 환경에서 사용되지 않는 리소스를 강제로 정리한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">사용 중이지 않은 컨테이너<span class=\"token operator\">:</span> 모든 종료된 컨테이너가 제거\n네트워크<span class=\"token operator\">:</span> 사용 중이지 않은 <span class=\"token class-name\">Docker</span> 네트워크 리소스가 제거\n이미지<span class=\"token operator\">:</span> 기본적으로는 태그가 없는 이미지만 제거되지만<span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span>a 옵션으로 인해 사용 중이지 않은 태그가 있는 이미지도 제거\n빌드 캐시<span class=\"token operator\">:</span> <span class=\"token class-name\">Docker</span> 이미지 빌드 과정에서 생성된 캐시들이 제거</code></pre></div>\n<h2 id=\"문제-해결-변수\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%A0%9C-%ED%95%B4%EA%B2%B0-%EB%B3%80%EC%88%98\" aria-label=\"문제 해결 변수 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>문제 해결 변수</h2>\n<p>보통 docker system prune -a -f 명령어를 사용하면 용량을 확보할 수 있었는데 이번에는 단 1도 용량이 확보되지 않았다. 이유는 이미 사용되지 않는 리소스는 정리가 되었고 추가로 용량을 차지하고 있는 부분을 확인해서 삭제를 해야한다.</p>\n<p>자, 순차적으로 확인해보자.</p>\n<ol>\n<li>df -h 를 이용해서 가장 큰 용량이 있는 마운트된 경로알아봄</li>\n<li>sudo du -ahx / | sort -rh | head -n 10로 용량이 가장 많은 부분을 알아본다. ( ‘/’ 마운트된 경로 )</li>\n<li>/var/lib/docker/containers/ - 에 가장 큰 용량 차지</li>\n<li>du -ah /var/lib/docker/containers/ - | sort -rh | head -n 10 을 통해 어느 것이 가장 용량이 많은지 확인</li>\n<li>-.json 의 파일이 가장 컸다.</li>\n</ol>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 660px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 14.545454545454545%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA40lEQVQI1wXBaUvCcADAYT9VF1hBZS1nq/82NtmV7miaLjIhCioioqJeVMaCDiIIOpzZBD/fr+cpeBUTVzawJB1b0nHLBlZJxytXCVWPSK0RaXXaVkzDDIkNn46fsBcktN2Ylh3RqPoEwsEXDoVAc9h2QhJvi916ix2vib/hUVMcArGJvWJiLGhYyyb6vEAUFdTZdUSxgjKzytq0hDxVQp5cQp5YpCDmZJ7ue4zzIcPvH/L+gFH2y6g/YJz9kX9lfL5+8P74xkvvmfQmJb1+4O7ilquTS84PzjjtHnHcOWS/2eUfog2H+s8R0xsAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"     2023 11 20    9 19 35\" title=\"     2023 11 20    9 19 35\" src=\"/static/f8df08d113403cbc13066eecc24ef2b6/7c811/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202023-11-20%20%EC%98%A4%ED%9B%84%209.19.35.png\" srcset=\"/static/f8df08d113403cbc13066eecc24ef2b6/103f2/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202023-11-20%20%EC%98%A4%ED%9B%84%209.19.35.png 165w,\n/static/f8df08d113403cbc13066eecc24ef2b6/748ba/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202023-11-20%20%EC%98%A4%ED%9B%84%209.19.35.png 330w,\n/static/f8df08d113403cbc13066eecc24ef2b6/7c811/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202023-11-20%20%EC%98%A4%ED%9B%84%209.19.35.png 660w,\n/static/f8df08d113403cbc13066eecc24ef2b6/190d7/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202023-11-20%20%EC%98%A4%ED%9B%84%209.19.35.png 706w\" sizes=\"(max-width: 660px) 100vw, 660px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<p>삭제를 시켜주자 !!!</p>\n<ul>\n<li><strong>rm -rf</strong></li>\n</ul>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 576px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 59.3939393939394%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAC5UlEQVQoz0WSWW/iBhhF/Vf60Ey2mYR0SCZJJ2EPYEJI8IqxzWaDMauBANkm02nVjKqO1I6qSlWlqmpf2j95KpyHPnyvR+e79wrvgzl3nSHLus/S7nBje5iH56i7GcwDkeF5le6ZRv1NiaBgM8rbdGMqg7TBIGXQOZIZJEx6xzr+oY7wGMy5cfp8GExZ1jr4BQNjX0TdTaPvnbFQmyz0NvZ+kUC0mJcdBpkqd6rHdanFIF7hu/qEhdjivT5A+Hj3wNLp8dgdMZJqKK+zqJFMeOXtOF5SYqm5VCMil1/EcI6vqGzm8d4q3Fd89Bc5eic6QcIiSFQRnu7f8dAd074wUKNZ9P086t4Zym4KeSuOlygzLdepRYv0M0ZoaGzl6cV17rQuxkaO3tcK47jJPNdA+PThW975AUOtiXFUQIvmQjvlVRJ5I0YnfsWs3MB+XcCLyYzFGsaWiH+qMrtoUlnLMopVng2TVYSfnr7n3hsz0lpoByLa6uXddAiU1k/pJiXmiou5J1LfLzLImFS3RfpxjXnJwXqRI4hXGceqDE8qCJ9/eOK2PWRiuDRSMtWjc5QV8OUzcGV4LbfQX2aRvkziHsmh4TBlsCg5mGs5JslVyxqzjI3w+cePLNwhU6vDo/dcjLzzv6FzUgqB6kYaP6EyKTaoRYr0YjrTQoPOgcRNycU/VGmsFxB+/fkT180egdnmm/6Eqe6EhvKrZGgZlCym5QZmJI8XV8MMm9FLJqLNIFmlvllgmrboH2sMjnWEP37/hVtvTGB1sOJlzLcXqHsZlJ000lYaNyYxk1qYkQJW5Jxe0sDevWAq1phkbay1PNO0jf9G4fbCQfj7r9+Yu0PmrT5OXkdZtfzVGcpOhvJmmvpRibnqom/n0TdyzxmuF/BX20tb2Osiy3yTblSif6gg/PPvn/QNl7HVYVbz0A8LqOF0ckjbGZxTmYXaDoG9lMGs5NDcu2SUMkOgdyBzf+XiR8s8lNv8B1Dk6LEobj5fAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"     2023 11 20    9 18 51\" title=\"     2023 11 20    9 18 51\" src=\"/static/378f2ba5ca50b09b4d821fb5b0d5ca5f/694da/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202023-11-20%20%EC%98%A4%ED%9B%84%209.18.51.png\" srcset=\"/static/378f2ba5ca50b09b4d821fb5b0d5ca5f/103f2/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202023-11-20%20%EC%98%A4%ED%9B%84%209.18.51.png 165w,\n/static/378f2ba5ca50b09b4d821fb5b0d5ca5f/748ba/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202023-11-20%20%EC%98%A4%ED%9B%84%209.18.51.png 330w,\n/static/378f2ba5ca50b09b4d821fb5b0d5ca5f/694da/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202023-11-20%20%EC%98%A4%ED%9B%84%209.18.51.png 576w\" sizes=\"(max-width: 576px) 100vw, 576px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<p>응 ? 근데 왜 그대로 일까? 여전히 용량은 확보되지 않았다. 하지만, 다시 경로에 들어가보면 -.json 에 대한 데이터는 사라지고 없었다.</p>\n<p>확인해보니 docker container에 해당 부분을 쓰고 있으면 삭제를 해도 완벽히 지워지지않는다더라. 한번 재시작을 하고나서야 용량이 확보되었다.</p>\n<h2 id=\"번외-1----왜-용량이-차기-시작했을까-\" style=\"position:relative;\"><a href=\"#%EB%B2%88%EC%99%B8-1----%EC%99%9C-%EC%9A%A9%EB%9F%89%EC%9D%B4-%EC%B0%A8%EA%B8%B0-%EC%8B%9C%EC%9E%91%ED%96%88%EC%9D%84%EA%B9%8C-\" aria-label=\"번외 1    왜 용량이 차기 시작했을까  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>번외 1 ) - 왜 용량이 차기 시작했을까 ?</h2>\n<p><strong>로그 파일</strong>: 웹 어플리케이션과 Docker 자체가 생성하는 로그 파일이 지속적으로 쌓일 수 있고 로그 파일들은 시간이 지남에 따라 디스크 공간을 차지한다.</p>\n<p><strong>Docker 이미지와 컨테이너</strong>: 차세대 코스콤 같은 경우, 어플리케이션 같은 경우, 3가지가 있다. 물론, 각자 다른 서버에 있지만 Processor(프로듀서 역할), Load(컨슈머 역할), Batch(스케줄러) 어플리케이션이 있다. 각각의 어플리케이션의 기능 개발, 장애, 수정을 할 경우, 빌드하고 배포 하므로 Docker 이미지 또는 컨테이너를 자주 업데이트하거나 재생성하는 경우가 많다. 이전 버전의 이미지나 사용되지 않는 컨테이너가 계속해서 디스크 공간을 차지할 수 있다.</p>\n<p><strong>데이터베이스</strong>: 어플리케이션의 데이터베이스가 서버 내부에 저장되고 있고, 데이터가 지속적으로 추가되는 경우, 이는 디스크 공간을 차지하는 요인이 될 수 있는데 예를 들어, kafka streams 의 RocksDB 같은 경우에도 용량에 문제가 될 수도 있다.</p>\n<p><strong>캐시 및 임시 파일</strong>: 시스템이나 어플리케이션에 의해 생성되는 캐시나 임시 파일들이 정기적으로 삭제되지 않는 경우도 있다.</p>\n<h2 id=\"번외-2-----varlibdockercontainers-에-있던-json-파일의-정체는-무엇일까\" style=\"position:relative;\"><a href=\"#%EB%B2%88%EC%99%B8-2-----varlibdockercontainers-%EC%97%90-%EC%9E%88%EB%8D%98-json-%ED%8C%8C%EC%9D%BC%EC%9D%98-%EC%A0%95%EC%B2%B4%EB%8A%94-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C\" aria-label=\"번외 2     varlibdockercontainers 에 있던 json 파일의 정체는 무엇일까 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>번외 2 ) -  /var/lib/docker/containers/ 에 있던 json 파일의 정체는 무엇일까?</h2>\n<p>이 파일은 Docker 컨테이너의 로그 파일이었다. 이 파일은 Docker 컨테이너에서 발생하는 모든 출력 및 에러 로그를 저장한다. 즉, 컨테이너 내부에서 실행되는 프로세스가 콘솔에 출력하는 모든 내용이 이 파일에 기록한다.</p>\n<p><strong>로그의 누적</strong>: Docker 컨테이너는 기본적으로 로그를 계속해서 이 파일에 쓰며, 시간이 지남에 따라 파일 크기가 커질 수 있고 특히 로그가 많이 생성되는 애플리케이션이 실행되는 경우 더 빨리 누적된다.</p>\n<p><strong>컨테이너 재시작의 필요성</strong> : 로그 파일을 직접 삭제하려고 해도, 해당 파일이 여전히 Docker 데몬에 의해 사용 중이라면 삭제가 반영이 되지 않는다. 컨테이너를 재시작하면 Docker는 새로운 로그 파일을 시작하고, 이전에 사용 중이던 로그 파일은 해제되어 삭제될 수 있음.</p>\n<p>또한, 중요한 로그도 있을 수 있으므로 함부로 지우면 안되고 또한 Docker 컨테이너의 로그 설정을 조정하여 로그의 최대 크기나 로테이션 수를 설정하면서 이번 문제 처럼 용량의 문제를 사전에 극복할 수 있다.</p>","timeToRead":3,"excerpt":"문제의 시작 차세대 코스콤 시스템을 구축하면서 IDC 에 docker image 를 이용해서 어플리케이션을 띄웠다. 배포를 하고 운영을 하면서 서버에 용량이 차기 시작했고 Zabbix…","frontmatter":{"title":"도커 overlay 용량을 정리해보자.","date":"2023-11-13T22:31:00Z","categories":["docker"],"tags":["docker"],"description":"this is a description","keywords":"pig","cover":{"childImageSharp":{"gatsbyImageData":{"layout":"fixed","backgroundColor":"#482838","images":{"fallback":{"src":"/static/378f2ba5ca50b09b4d821fb5b0d5ca5f/4a07a/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202023-11-20%20%EC%98%A4%ED%9B%84%209.18.51.png","srcSet":"/static/378f2ba5ca50b09b4d821fb5b0d5ca5f/4a07a/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202023-11-20%20%EC%98%A4%ED%9B%84%209.18.51.png 576w","sizes":"576px"},"sources":[{"srcSet":"/static/378f2ba5ca50b09b4d821fb5b0d5ca5f/082dc/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202023-11-20%20%EC%98%A4%ED%9B%84%209.18.51.webp 576w","type":"image/webp","sizes":"576px"}]},"width":660,"height":391}}}},"fields":{"slug":"/docker20231113/","date":"2023-11-13T22:31:00.000Z"}}},"pageContext":{"slug":"/docker20231113/","nexttitle":"크롤 버전 이슈","nextslug":"/crawl20231020/","prevtitle":"redis 구성 - 단일, 레플리케이션, 센티넬","prevslug":"/redisinfra20231124/","tagList":["infra","cache","docker","crawl","spring","java","theory","git","mysql","db"],"categoryList":["redis","docker","java","spring","theory","db"],"latestPostEdges":[{"node":{"fields":{"slug":"/redisinfra20231124/"},"frontmatter":{"template":"post","title":"redis 구성 - 단일, 레플리케이션, 센티넬","tags":["infra","cache"],"categories":["redis"],"date":"2023-11-24T22:31:00Z"}}},{"node":{"fields":{"slug":"/docker20231113/"},"frontmatter":{"template":"post","title":"도커 overlay 용량을 정리해보자.","tags":["docker"],"categories":["docker"],"date":"2023-11-13T22:31:00Z"}}},{"node":{"fields":{"slug":"/crawl20231020/"},"frontmatter":{"template":"post","title":"크롤 버전 이슈","tags":["crawl"],"categories":["java"],"date":"2023-10-20T22:31:00Z"}}},{"node":{"fields":{"slug":"/cachelocalglobal20230523/"},"frontmatter":{"template":"post","title":"[1] 서비스 캐싱 - Local, Global","tags":["spring","java","cache"],"categories":["spring"],"date":"2023-05-23T22:31:00Z"}}},{"node":{"fields":{"slug":"/solid20220501/"},"frontmatter":{"template":"post","title":"객체 지향 설계 5원칙 - SOLID","tags":["theory"],"categories":["theory"],"date":"2022-05-01T22:31:00Z"}}},{"node":{"fields":{"slug":"/jpa120220421/"},"frontmatter":{"template":"post","title":"JPA 영속성 관리","tags":["java","spring"],"categories":["spring"],"date":"2022-04-21T22:31:00Z"}}},{"node":{"fields":{"slug":"/collector20220303/"},"frontmatter":{"template":"post","title":"Collect, Collector, Collectors 정리","tags":["java"],"categories":["java"],"date":"2022-03-03T22:31:00Z"}}},{"node":{"fields":{"slug":"/gitbasic20220218/"},"frontmatter":{"template":"post","title":"GIT 에 대한 그림 이해","tags":["git"],"categories":["theory"],"date":"2022-02-18T22:31:00Z"}}}]}},
    "staticQueryHashes": []}