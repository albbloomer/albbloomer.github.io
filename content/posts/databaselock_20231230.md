---
template: "post"
title: "Mysql Lock 에 대해서"
cover: "../images/db/rock1.png"
description: "this is a description"
date: "2023-12-30T11:31:00Z"
slug: "databaselock_20231020"
keywords: "pig"
categories:
- db

tags:
- mysql

---

## 시작

락.. 실무나 이론적인 공부를 하다보면 락에 대한 얘기는 끊임없이 나오는 것 같다. 그럴 때마다 ‘나중에 한번 제대로! 공부를 해야지’ 하고 다짐만 할 뿐, 다시 코딩을 시작한다.

이제 좀 알아보자.

## 공부하기전 선수 개념

**트랜잭션** : 데이터베이스에서 실행되는 하나의 논리적 작업 단위이다. 예를 들어, 은행 계좌 이체 작업은 하나의 트랜잭션이다.
- ACID

**커밋** : 트랜잭션의 모든 작업이 성공적으로 완료되었음을 데이터베이스에 알리는 과정이다. 커밋을 통해 변경 사항이 데이터베이스에 영구적으로 저장.
- 트랜잭션을 ‘커밋’ 하여 변경사항을 데이터베이스에 반영한다.

**세션** : client ( application 서버 ) 하고 db 하고 연결되어 있는 전체적인 시간
- 연결 풀을 사용하는 경우, 여러 I/O 작업이 같은 세션을 재사용
- 연결 풀을 사용하지 않는 경우, 각 I/O 작업마다 새로운 세션을 생성

## 락 종류

## 락 시나리오

## 락 범위

## 해결 방법

- 각각의 트랜잭션이 빠르게 실행되도록 해야함
- 그래야 그 데이터간의 락 Race Condition 이 생기지 않음
- 동시에 접근을 안하게 하는게 좋음
- 대용량 → 작업 단위를 쪼개거나 Lock Time out 을 설정

## 끝내며